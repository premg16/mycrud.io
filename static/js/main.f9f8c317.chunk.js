(this["webpackJsonpmycrud.io"]=this["webpackJsonpmycrud.io"]||[]).push([[0],{85:function(e,t,r){},86:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=r(31),s=r.n(n),o=r(22),l=r.n(o),d=r(30),i=r(11),j=r(102),b=r(92),u=r(96),h=r(93),m=r(15),x=r(62),O=(r(72),r(87),r(88),x.a.initializeApp({apiKey:"AIzaSyDbC5asTVmVADNi1gxQhdDXlXHRJjl8qAY",authDomain:"fire-auth-dev-ab46e.firebaseapp.com",projectId:"fire-auth-dev-ab46e",storageBucket:"fire-auth-dev-ab46e.appspot.com",messagingSenderId:"809289584701",appId:"1:809289584701:web:5d7e7ab8c032657471da54"})),p=O.firestore(),f=(p.batch(),{folders:p.collection("folders"),files:p.collection("files"),formatDoc:function(e){return Object(m.a)({id:e.id},e.data())},getCurrentTimestamp:x.a.firestore.FieldValue.serverTimestamp}),g=O.storage(),v=O.auth(),w=r(2),y=c.a.createContext();function N(){return Object(a.useContext)(y)}function k(e){var t=e.children,r=Object(a.useState)(),c=Object(i.a)(r,2),n=c[0],s=c[1],o=Object(a.useState)(!0),l=Object(i.a)(o,2),d=l[0],j=l[1];Object(a.useEffect)((function(){return v.onAuthStateChanged((function(e){s(e),j(!1)}))}),[]);var b={currentUser:n,login:function(e,t){return v.signInWithEmailAndPassword(e,t)},signup:function(e,t){return v.createUserWithEmailAndPassword(e,t)},logout:function(){return v.signOut()},resetPassword:function(e){return v.sendPasswordResetEmail(e)},updateEmail:function(e){return n.updateEmail(e)},updatePassword:function(e){return n.updatePassword(e)}};return Object(w.jsx)(y.Provider,{value:b,children:!d&&t})}var C=r(14),F=r(12),S=r(91);function I(e){var t=e.children;return Object(w.jsx)(S.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(w.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:t})})}function P(){var e=Object(a.useRef)(),t=Object(a.useRef)(),r=Object(a.useRef)(),c=N().signup,n=Object(a.useState)(""),s=Object(i.a)(n,2),o=s[0],m=s[1],x=Object(a.useState)(!1),O=Object(i.a)(x,2),p=O[0],f=O[1],g=Object(C.g)();function v(){return(v=Object(d.a)(l.a.mark((function a(n){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),t.current.value===r.current.value){a.next=3;break}return a.abrupt("return",m("Passwords do not match"));case 3:return a.prev=3,m(""),f(!0),a.next=8,c(e.current.value,t.current.value);case 8:g.push("/dashboard"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),m("Failed to create an account");case 14:f(!1);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))).apply(this,arguments)}return Object(w.jsxs)(I,{children:[Object(w.jsx)(j.a,{className:"bg-card shadow border-0",children:Object(w.jsxs)(j.a.Body,{children:[Object(w.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),o&&Object(w.jsx)(b.a,{variant:"danger",children:o}),Object(w.jsxs)(u.a,{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(w.jsxs)(u.a.Group,{id:"email",children:[Object(w.jsx)(u.a.Label,{children:"Email"}),Object(w.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(w.jsxs)(u.a.Group,{id:"password",children:[Object(w.jsx)(u.a.Label,{children:"Password"}),Object(w.jsx)(u.a.Control,{type:"password",ref:t,required:!0})]}),Object(w.jsxs)(u.a.Group,{id:"password-confirm",children:[Object(w.jsx)(u.a.Label,{children:"Password Confirmation"}),Object(w.jsx)(u.a.Control,{type:"password",ref:r,required:!0})]}),Object(w.jsx)(h.a,{disabled:p,className:"w-100 mt-2",type:"submit",children:"Sign Up"})]})]})}),Object(w.jsxs)("div",{className:"w-100 text-center mt-3",children:["Already have an account? ",Object(w.jsx)(F.b,{to:"/login",className:"text-decoration-none",children:"Log In"})]})]})}function D(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),r=t[0],c=t[1],n=N(),s=n.currentUser,o=n.logout,u=Object(C.g)();function m(){return(m=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,o();case 4:u.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(w.jsxs)(I,{children:[Object(w.jsx)(j.a,{className:"bg-card border-0  shadow",children:Object(w.jsxs)(j.a.Body,{children:[Object(w.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),r&&Object(w.jsx)(b.a,{variant:"danger",children:r}),Object(w.jsx)("strong",{children:"Email:"})," ",s.email,Object(w.jsx)(F.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(w.jsx)("div",{className:"w-100 text-center mt-2",children:Object(w.jsx)(h.a,{variant:"link",onClick:function(){return m.apply(this,arguments)},className:"text-decoration-none ",children:"Log Out"})}),Object(w.jsx)("div",{className:"w-100 text-center mt-2",children:Object(w.jsx)(F.b,{to:"/dashboard",className:"text-decoration-none ",children:"Dashboard"})})]})}function L(){var e=Object(a.useRef)(),t=Object(a.useRef)(),r=N().login,c=Object(a.useState)(""),n=Object(i.a)(c,2),s=n[0],o=n[1],m=Object(a.useState)(!1),x=Object(i.a)(m,2),O=x[0],p=x[1],f=Object(C.g)();function g(){return(g=Object(d.a)(l.a.mark((function a(c){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.preventDefault(),a.prev=1,o(""),p(!0),a.next=6,r(e.current.value,t.current.value);case 6:f.push("/dashboard"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),o("Failed to log in");case 12:p(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))).apply(this,arguments)}return Object(w.jsxs)(I,{children:[Object(w.jsx)(j.a,{className:"bg-card border-0  shadow",children:Object(w.jsxs)(j.a.Body,{children:[Object(w.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(w.jsx)(b.a,{variant:"danger",children:s}),Object(w.jsxs)(u.a,{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(w.jsxs)(u.a.Group,{id:"email",children:[Object(w.jsx)(u.a.Label,{children:"Email"}),Object(w.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(w.jsxs)(u.a.Group,{id:"password",children:[Object(w.jsx)(u.a.Label,{children:"Password"}),Object(w.jsx)(u.a.Control,{type:"password",ref:t,required:!0})]}),Object(w.jsx)(h.a,{disabled:O,className:"w-100",type:"submit",children:"Log In"})]}),Object(w.jsx)("div",{className:"w-100 text-center mt-3",children:Object(w.jsx)(F.b,{to:"/forgot-password",className:"text-decoration-none",children:"Forgot Password?"})})]})}),Object(w.jsxs)("div",{className:"w-100 text-center mt-3",children:["Need an account? ",Object(w.jsx)(F.b,{to:"/signup",className:"text-decoration-none ",children:"Sign Up"})]})]})}var U=r(66);function A(e){var t=e.component,r=Object(U.a)(e,["component"]),a=N().currentUser;return Object(w.jsx)(C.b,Object(m.a)(Object(m.a)({},r),{},{render:function(e){return a?Object(w.jsx)(t,Object(m.a)({},e)):Object(w.jsx)(C.a,{to:"/login"})}}))}function R(){var e=Object(a.useRef)(),t=N().resetPassword,r=Object(a.useState)(""),c=Object(i.a)(r,2),n=c[0],s=c[1],o=Object(a.useState)(""),m=Object(i.a)(o,2),x=m[0],O=m[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),g=f[0],v=f[1];function y(){return(y=Object(d.a)(l.a.mark((function r(a){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),r.prev=1,O(""),s(""),v(!0),r.next=7,t(e.current.value);case 7:O("Check your inbox for further instructions"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),s("Failed to reset password");case 13:v(!1);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)}return Object(w.jsxs)(I,{children:[Object(w.jsx)(j.a,{className:"bg-card border-0  shadow",children:Object(w.jsxs)(j.a.Body,{children:[Object(w.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),n&&Object(w.jsx)(b.a,{variant:"danger",children:n}),x&&Object(w.jsx)(b.a,{variant:"success",children:x}),Object(w.jsxs)(u.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(w.jsxs)(u.a.Group,{id:"email",children:[Object(w.jsx)(u.a.Label,{children:"Email"}),Object(w.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(w.jsx)(h.a,{disabled:g,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(w.jsx)("div",{className:"w-100 text-center mt-3",children:Object(w.jsx)(F.b,{to:"/login",className:"text-decoration-none ",children:"Login"})})]})}),Object(w.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(w.jsx)(F.b,{to:"/signup",className:"text-decoration-none ",children:"Sign Up"})]})]})}function B(){var e=Object(a.useRef)(),t=Object(a.useRef)(),r=Object(a.useRef)(),c=N(),n=c.currentUser,s=c.updatePassword,o=c.updateEmail,l=Object(a.useState)(""),d=Object(i.a)(l,2),m=d[0],x=d[1],O=Object(a.useState)(!1),p=Object(i.a)(O,2),f=p[0],g=p[1],v=Object(C.g)();return Object(w.jsxs)(I,{children:[Object(w.jsx)(j.a,{className:"bg-card border-0  shadow",children:Object(w.jsxs)(j.a.Body,{children:[Object(w.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),m&&Object(w.jsx)(b.a,{variant:"danger",children:m}),Object(w.jsxs)(u.a,{onSubmit:function(a){if(a.preventDefault(),t.current.value!==r.current.value)return x("Passwords do not match");var c=[];g(!0),x(""),e.current.value!==n.email&&c.push(o(e.current.value)),t.current.value&&c.push(s(t.current.value)),Promise.all(c).then((function(){v.push("/")})).catch((function(){x("Failed to update account")})).finally((function(){g(!1)}))},children:[Object(w.jsxs)(u.a.Group,{id:"email",children:[Object(w.jsx)(u.a.Label,{children:"Email"}),Object(w.jsx)(u.a.Control,{type:"email",ref:e,required:!0,defaultValue:n.email})]}),Object(w.jsxs)(u.a.Group,{id:"password",children:[Object(w.jsx)(u.a.Label,{children:"Password"}),Object(w.jsx)(u.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(w.jsxs)(u.a.Group,{id:"password-confirm",children:[Object(w.jsx)(u.a.Label,{children:"Password Confirmation"}),Object(w.jsx)(u.a.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),Object(w.jsx)(h.a,{disabled:f,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(w.jsx)("div",{className:"w-100 text-center mt-2",children:Object(w.jsx)(F.b,{to:"/user",className:"text-decoration-none ",children:"Cancel"})})]})}var E="select-folder",W="update-folder",G="set-child-folders",q="set-child-files",T={name:"Home",id:null,path:[]};function H(e,t){var r=t.type,a=t.payload;switch(r){case E:return{folderId:a.folderId,folder:a.folder,childFiles:[],childFolders:[]};case W:return Object(m.a)(Object(m.a)({},e),{},{folder:a.folder});case G:return Object(m.a)(Object(m.a)({},e),{},{childFolders:a.childFolders});case q:return Object(m.a)(Object(m.a)({},e),{},{childFiles:a.childFiles});default:return e}}var K=r(42),z=r(95);function V(e){var t=e.currentFolder,r=Object(a.useState)(!1),c=Object(i.a)(r,2),n=c[0],s=c[1],o=Object(a.useState)(""),l=Object(i.a)(o,2),d=l[0],j=l[1],b=N().currentUser;function m(){s(!1)}return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{onClick:function(){s(!0)},className:"btn shadow-sm bg-folder border-0 mt-2",children:Object(w.jsx)("img",{src:"https://img.icons8.com/color/20/000000/add-folder.png",alt:"add-folder"})}),Object(w.jsx)(z.a,{show:n,onHide:m,children:Object(w.jsxs)(u.a,{onSubmit:function(e){if(e.preventDefault(),null!=t){var r=Object(K.a)(t.path);t!==T&&r.push({name:t.name,id:t.id}),f.folders.add({name:d,parentId:t.id,userId:b.uid,path:r,createdAt:f.getCurrentTimestamp()}),j(""),m()}},children:[Object(w.jsx)(z.a.Body,{children:Object(w.jsxs)(u.a.Group,{children:[Object(w.jsx)(u.a.Label,{children:"Folder Name"}),Object(w.jsx)(u.a.Control,{type:"text",required:!0,value:d,onChange:function(e){return j(e.target.value)}})]})}),Object(w.jsxs)(z.a.Footer,{children:[Object(w.jsx)(h.a,{variant:"secondary",onClick:m,children:"Close"}),Object(w.jsx)(h.a,{variant:"success",type:"submit",children:"Add Folder"})]})]})})]})}var J=r(99),_=r(98),X=r(103);function M(e){var t=e.currentFolder,r=Object(a.useState)([]),c=Object(i.a)(r,2),n=c[0],o=c[1],l=N().currentUser;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("label",{className:"bg-file btn m-0 ml-2 shadow-sm",children:[Object(w.jsx)("img",{src:"https://img.icons8.com/color/20/000000/add-file.png",alt:"add-file"}),Object(w.jsx)("input",{type:"file",onChange:function(e){var r=e.target.files[0];if(null!=t&&null!=r){var a=Object(J.a)();o((function(e){return[].concat(Object(K.a)(e),[{id:a,name:r.name,progress:0,error:!1}])}));var c=t===T?"".concat(t.path.join("/"),"/").concat(r.name):"".concat(t.path.join("/"),"/").concat(t.name,"/").concat(r.name),n=g.ref("/files/".concat(l.uid,"/").concat(c)).put(r),s=r.name.split(".").pop();n.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes;o((function(e){return e.map((function(e){return e.id===a?Object(m.a)(Object(m.a)({},e),{},{progress:t}):e}))}))}),(function(){o((function(e){return e.map((function(e){return e.id===a?Object(m.a)(Object(m.a)({},e),{},{error:!0}):e}))}))}),(function(){o((function(e){return e.filter((function(e){return e.id!==a}))})),n.snapshot.ref.getDownloadURL().then((function(e){f.files.where("name","==",r.name).where("userId","==",l.uid).where("folderId","==",t.id).get().then((function(a){var n=a.docs[0];n?n.ref.update({url:e}):f.files.add({url:e,name:r.name,createdAt:f.getCurrentTimestamp(),folderId:t.id,userId:l.uid,path:c,type:s})}))}))}))}},style:{opacity:0,position:"absolute",left:"-9999px"}})]}),n.length>0&&s.a.createPortal(Object(w.jsx)("div",{style:{position:"absolute",bottom:"1rem",right:"1rem",maxWidth:"250px"},children:n.map((function(e){return Object(w.jsxs)(_.a,{onClose:function(){o((function(t){return t.filter((function(t){return t.id!==e.id}))}))},children:[Object(w.jsx)(_.a.Header,{closeButton:e.error,className:"text-truncate w-100 d-block",children:e.name}),Object(w.jsx)(_.a.Body,{children:Object(w.jsx)(X.a,{animated:!e.error,variant:e.error?"danger":"primary",now:e.error?100:100*e.progress,label:e.error?"Error":"".concat(Math.round(100*e.progress),"%")})})]},e.id)}))}),document.body)]})}var Q=r(100),Y=r(94),Z=r(27);function $(e){var t=e.folder,r=Object(a.useState)(!1),c=Object(i.a)(r,2),n=c[0],s=c[1],o=Object(a.useState)(""),l=Object(i.a)(o,2),d=l[0],j=l[1];function b(){s(!0)}function m(){s(!1)}function x(e){e.preventDefault(),f.folders.doc("".concat(t.id)).update({name:d,updatedAt:f.getCurrentTimestamp()}),j(""),m()}function O(){f.folders.doc("".concat(t.id)).delete()}return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(h.a,{to:{pathname:"/folder/".concat(t.id),state:{folder:t}},as:F.b,className:"bg-transparent border-0 text-truncate w-100 text-left text-dark rounded p-2 m-1",children:[Object(w.jsx)("img",{src:"https://img.icons8.com/color/20/000000/folder.png",alt:"folder",className:"mr-2"}),t.name]}),Object(w.jsx)(h.a,{onClick:b,className:"d-none d-sm-block shadow-sm m-1  bg-rename border-0",children:Object(w.jsx)("img",{src:"https://img.icons8.com/color/20/000000/rename.png",alt:"rename"})}),Object(w.jsx)(z.a,{show:n,onHide:m,children:Object(w.jsxs)(u.a,{onSubmit:x,children:[Object(w.jsx)(z.a.Body,{children:Object(w.jsxs)(u.a.Group,{children:[Object(w.jsx)(u.a.Label,{children:"ReName Folder"}),Object(w.jsx)(u.a.Control,{type:"text",required:!0,value:d,onChange:function(e){return j(e.target.value)}})]})}),Object(w.jsxs)(z.a.Footer,{children:[Object(w.jsx)(h.a,{variant:"secondary",onClick:m,children:"Close"}),Object(w.jsx)(h.a,{variant:"success",type:"submit",children:"Update Folder"})]})]})}),Object(w.jsx)(h.a,{onClick:O,className:"d-none d-sm-block shadow-sm m-1  mr-2 bg-trash border-0",alt:"Delete",children:Object(w.jsx)(Z.d,{})}),Object(w.jsxs)(Q.a,{defaultActiveKey:"1",className:"d-block d-sm-none m-2 border-0 shadow-sm p-0 bg-transparent rounded",style:{maxWidth:"42px"},children:[Object(w.jsx)(Q.a.Toggle,{as:h.a,variant:"link",eventKey:"0",children:Object(w.jsx)(Z.c,{})}),Object(w.jsx)(Q.a.Collapse,{eventKey:"0",children:Object(w.jsxs)(Y.a,{className:"d-flex flex-wrap bg-fb shadow rounded h-100 ",style:{maxWidth:"42px",zIndex:"999"},children:[Object(w.jsx)(h.a,{onClick:b,className:"shadow-sm bg-rename border-0 mt-1 rounded",children:Object(w.jsx)("img",{src:"https://img.icons8.com/color/18/000000/rename.png",alt:"rename"})}),Object(w.jsx)(z.a,{show:n,onHide:m,children:Object(w.jsxs)(u.a,{onSubmit:x,children:[Object(w.jsx)(z.a.Body,{children:Object(w.jsxs)(u.a.Group,{children:[Object(w.jsx)(u.a.Label,{children:"Rename Folder"}),Object(w.jsx)(u.a.Control,{type:"text",required:!0,value:d,onChange:function(e){return j(e.target.value)}})]})}),Object(w.jsxs)(z.a.Footer,{children:[Object(w.jsx)(h.a,{variant:"secondary",onClick:m,children:"Close"}),Object(w.jsx)(h.a,{variant:"success",type:"submit",children:"Update Folder"})]})]})}),Object(w.jsx)(h.a,{onClick:O,className:"shadow-sm bg-trash border-0 rounded mt-1 ",alt:"Delete",children:Object(w.jsx)(Z.d,{})})]})})]})]})}function ee(e){var t=e.file,r=N().currentUser;function a(){g.ref("/files/".concat(r.uid,"/").concat(t.path)).delete(t),f.files.doc("".concat(t.id)).delete()}return Object(w.jsxs)(j.a,{className:"d-flex flex-row p-1 border-0 bg-card text-dark shadow-sm justify-content-between",style:{maxHeight:"64px"},children:[Object(w.jsx)(j.a.Body,{className:"d-flex text-truncate text-center p-0",children:Object(w.jsxs)("div",{className:"m-2 p-1",children:[Object(w.jsx)(Z.a,{className:"mb-1 mr-1 "}),t.name]})}),Object(w.jsxs)("div",{className:"d-none d-sm-block m-2 border-0 bg-transparent p-0",style:{minWidth:"88px"},children:[Object(w.jsx)(h.a,{onClick:a,className:"btn btn-xl  shadow-sm mr-2 bg-trash border-0",alt:"Delete",children:Object(w.jsx)(Z.d,{})}),Object(w.jsx)(h.a,{href:t.url,target:"_blank",rel:"noreferrer",className:"btn btn-xl  shadow-sm bg-download border-0",alt:"Download",download:!0,children:Object(w.jsx)(Z.b,{})})]}),Object(w.jsxs)(Q.a,{defaultActiveKey:"1",className:"d-block d-sm-none m-2 border-0 bg-transparent rounded shadow-sm p-0",style:{maxWidth:"42px"},children:[Object(w.jsx)(Q.a.Toggle,{as:h.a,variant:"link",eventKey:"0",children:Object(w.jsx)(Z.c,{})}),Object(w.jsx)(Q.a.Collapse,{eventKey:"0",children:Object(w.jsxs)(Y.a,{className:"d-flex flex-wrap bg-transparent shadow ",style:{maxWidth:"42px",zIndex:"1"},children:[Object(w.jsx)(h.a,{onClick:a,className:"shadow-sm bg-trash border-0 rounded mt-1 ",alt:"Delete",children:Object(w.jsx)(Z.d,{})}),Object(w.jsx)(h.a,{href:t.url,target:"_blank",rel:"noreferrer",className:"shadow-sm bg-download border-0 mt-1 rounded",alt:"Download",download:!0,children:Object(w.jsx)(Z.b,{})})]})})]})]})}var te=r(101),re=r(97);function ae(){var e=N().logout,t=Object(C.g)();function r(){return(r=Object(d.a)(l.a.mark((function r(){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e();case 2:t.push("/");case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(te.a,{expand:"sm",className:"shadow-sm bg-navbar m-0",sticky:"top",children:[Object(w.jsx)(te.a.Brand,{as:F.b,to:"/dashboard",children:Object(w.jsx)("h2",{className:"text-white",children:"CRUD"})}),Object(w.jsx)(te.a.Toggle,{"aria-controls":"basic-navbar-nav",children:Object(w.jsx)(Z.e,{})}),Object(w.jsx)(te.a.Collapse,{id:"basic-navbar-nav",children:Object(w.jsxs)(re.a,{className:"mr-auto",children:[Object(w.jsx)(re.a.Link,{as:F.b,to:"/user",className:"text-white m-1 pl-1 bg-button",children:"Profile"}),Object(w.jsx)(re.a.Link,{onClick:function(){return r.apply(this,arguments)},className:"text-white m-1 pl-1 bg-button",children:"Logout"})]})})]})})}var ce=r(104);function ne(e){var t=e.currentFolder,r=t===T?[]:[T];return t&&(r=[].concat(Object(K.a)(r),Object(K.a)(t.path))),Object(w.jsxs)(ce.a,{className:"flex-grow-1",listProps:{className:"bg-transparent pl-0 m-0"},children:[r.map((function(e,t){return Object(w.jsxs)(ce.a.Item,{linkAs:F.b,linkProps:{to:{pathname:e.id?"/folder/".concat(e.id):"/dashboard",state:{folder:Object(m.a)(Object(m.a)({},e),{},{path:r.slice(1,t)})}},style:{textDecoration:"none",color:"primary"}},className:"text-truncate d-inline-block text-danger",style:{maxWidth:"150px"},children:[Object(w.jsx)("img",{src:"https://img.icons8.com/color/20/000000/folder-tree.png",alt:"folder-tree",className:"mr-2 mb-1"}),e.name]},e.id)})),t&&Object(w.jsxs)(ce.a.Item,{className:"text-truncate d-inline-block pr-2 pl-0 text-success",style:{maxWidth:"200px"},active:!0,children:[Object(w.jsx)("img",{src:"https://img.icons8.com/color/20/000000/opened-folder.png",alt:"opened-folder",className:"mr-2 mb-1"}),t.name]})]})}function se(){var e=Object(C.i)().folderId,t=Object(C.h)().state,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Object(a.useReducer)(H,{folderId:e,folder:t,childFolders:[],childFiles:[]}),c=Object(i.a)(r,2),n=c[0],s=c[1];Object(a.useEffect)((function(){s({type:E,payload:{folderId:e,folder:t}})}),[e,t]),Object(a.useEffect)((function(){if(null==e)return s({type:W,payload:{folder:T}});f.folders.doc(e).get().then((function(e){s({type:W,payload:{folder:f.formatDoc(e)}})})).catch((function(){s({type:W,payload:{folder:T}})}))}),[e]);var o=N().currentUser;return Object(a.useEffect)((function(){return f.folders.where("parentId","==",e).where("userId","==",o.uid).orderBy("createdAt").onSnapshot((function(e){s({type:G,payload:{childFolders:e.docs.map(f.formatDoc)}})}))}),[e,o]),Object(a.useEffect)((function(){return f.files.where("folderId","==",e).where("userId","==",o.uid).orderBy("createdAt").onSnapshot((function(e){s({type:q,payload:{childFiles:e.docs.map(f.formatDoc)}})}))}),[e,o]),n}(e,(void 0===t?{}:t).folder),c=r.folder,n=r.childFolders,s=r.childFiles;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ae,{}),Object(w.jsxs)(S.a,{fluid:!0,children:[Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)(ne,{currentFolder:c}),Object(w.jsx)(V,{currentFolder:c}),Object(w.jsx)(M,{currentFolder:c})]}),n.length>0&&Object(w.jsxs)("div",{children:[Object(w.jsx)("h5",{children:"Folders"}),Object(w.jsx)("div",{className:"d-flex flex-wrap border-0 mb-2 mt-2",children:n.map((function(e){return Object(w.jsx)("div",{style:{minWidth:"200px",maxHeight:"54px"},className:"d-flex flex-row col-12 col-sm-1 bg-fb rounded pl-0 pr-0 ml-sm-2 mb-2 bg-button",children:Object(w.jsx)($,{folder:e})},e.id)}))})]}),n.length>0&&s.length>0,s.length>0&&Object(w.jsxs)("div",{children:[" ",Object(w.jsx)("h5",{children:"Files"}),Object(w.jsx)("div",{className:"d-flex flex-wrap",children:s.map((function(e){return Object(w.jsx)("div",{className:"p-1 col-12 col-sm-4",children:Object(w.jsx)(ee,{file:e})},e.id)}))})]})]})]})}function oe(){return Object(w.jsx)(S.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(w.jsx)("div",{children:Object(w.jsxs)(j.a,{className:"bg-card border-0 p-4 shadow",children:[Object(w.jsx)(j.a.Title,{className:"text-center mb-0",children:Object(w.jsx)("h2",{children:"Welcome to CRUD App!"})}),Object(w.jsx)(j.a.Body,{className:" d-flex flex-wrap justify-content-center p-0"}),Object(w.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(w.jsx)(F.b,{to:"/signup",className:"text-decoration-none",children:Object(w.jsx)("h5",{children:"Sign Up"})})]}),Object(w.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(w.jsx)(F.b,{to:"/login",className:"text-decoration-none",children:Object(w.jsx)("h5",{children:"Log In"})})]})]})})})}var le=function(){return Object(w.jsx)(F.a,{children:Object(w.jsx)(k,{children:Object(w.jsxs)(C.d,{children:[Object(w.jsx)(C.b,{exact:!0,path:"/",component:oe}),Object(w.jsx)(A,{exact:!0,path:"/dashboard",component:se}),Object(w.jsx)(A,{exact:!0,path:"/folder/:folderId",component:se}),Object(w.jsx)(A,{path:"/user",component:D}),Object(w.jsx)(A,{path:"/update-profile",component:B}),Object(w.jsx)(C.b,{path:"/signup",component:P}),Object(w.jsx)(C.b,{path:"/login",component:L}),Object(w.jsx)(C.b,{path:"/forgot-password",component:R})]})})})};r(84),r(85);s.a.render(Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(le,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.f9f8c317.chunk.js.map